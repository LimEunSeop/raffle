{"version":3,"sources":["Components/Main.tsx","Components/Arrangement.tsx","utils/getShuffledPeople.tsx","Components/DataSetting.tsx","Components/Layout.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["StyledLink","styled","Link","_templateObject","Object","taggedTemplateLiteral","Main","react_default","a","createElement","Fragment","Helmet","style","position","top","left","transform","textAlign","marginBottom","display","justifyContent","gap","menus","map","menu","to","path","key","label","seatWidth","seatHeight","StyledSection","section","Arrangement_templateObject","SeatArea","div","_templateObject2","Seat","button","_templateObject3","PersonEl","_templateObject4","StyledInput","input","_templateObject5","StyledButton","_templateObject6","Arrangement","_useState","useState","_useState2","slicedToArray","row","setRow","_useState3","_useState4","column","setColumn","_useState5","_useState6","bannedSeatIdx","setBannedSeatIdx","_useState7","_useState8","started","setStarted","people","useRef","groups","setting","intervalId","useEffect","arrangementData","JSON","parse","localStorage","getItem","raffleData","current","fetchedPeople","fetchedGroups","hideSeatItems","$seatArea","$","seatAreaWidth","width","seatAreaHeight","height","document","querySelectorAll","forEach","seat","dataset","String","offsetLeft","offsetTop","animate","concat","hide","handleInputChange","useCallback","e","_e$target","target","name","value","setFunctions","onlyNumber","Number","replace","setItem","stringify","handleSeatClick","idx","currentTarget","indexOf","toConsumableArray","filter","x","handleStartButtonClick","personElements","Array","from","completeList","zIndex","animation","raffledIdx","Math","trunc","random","length","$personElement","parent","data","css","show","push","splice","window","setInterval","clearInterval","shuffledPeople","useMemo","col","copiedPeople","checkLeftPersonSameGroup","currentIdx","person","group","personToMove","adjHasSameGroup","notFoundDifferentGroup","i","reRaffledIdx","getShuffledPeople","peopleIdx","marginRight","type","id","onChange","htmlFor","onClick","disabled","className","keys","eachRow","eachColumn","j","_shuffledPeople$peopl","_shuffledPeople$peopl2","data-idx","data-testid","classnames","defaultData","b","DataSetting","setValue","handleSubmit","preventDefault","elements","handleChange","trim","console","log","onSubmit","rows","cols","marginTop","margin","fontSize","Layout","_ref","title","children","location","useLocation","padding","fontWeight","pathname","react_router_dom","textDecoration","color","bottom","href","rel","element","Components_Arrangement","Components_DataSetting","programName","App","react_router","Layout_Layout","Components_Main","React","reportWebVitals","onPerfEntry","Function","__webpack_require__","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","src_App","getElementById"],"mappings":"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","file":"static/js/main.01d6f26c.chunk.js","sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { menus } from '../App'\nimport { Helmet } from 'react-helmet'\nimport styled from 'styled-components'\n\nconst Main = () => {\n  return (\n    <>\n      <Helmet>\n        <title>추첨 프로그램</title>\n      </Helmet>\n      <div\n        style={{\n          position: 'fixed',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n        }}\n      >\n        <h1 style={{ textAlign: 'center', marginBottom: '100px' }}>\n          메뉴를 선택해주세요.\n        </h1>\n        <div\n          style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            gap: '50px',\n          }}\n        >\n          {menus.map((menu) => (\n            <StyledLink to={menu.path} key={menu.label}>\n              {menu.label}\n            </StyledLink>\n          ))}\n        </div>\n      </div>\n    </>\n  )\n}\n\nconst StyledLink = styled(Link)`\n  display: inline-grid;\n  place-items: center;\n  width: 400px;\n  height: 400px;\n  text-decoration: none;\n  background: #000;\n  border-radius: 20px;\n  font-size: 42px;\n  color: #fff;\n  font-weight: 500;\n  transition: 0.6s;\n\n  &:hover {\n    background: #65d4ad;\n    color: #000000;\n  }\n`\n\nexport default Main\n","import React, {\n  ChangeEvent,\n  useRef,\n  useCallback,\n  useEffect,\n  useState,\n  SyntheticEvent,\n  useMemo,\n} from 'react'\nimport styled from 'styled-components'\nimport getShuffledPeople from '../utils/getShuffledPeople'\nimport classnames from 'classnames'\nimport $ from 'jquery'\n\ninterface ArrangementData {\n  row: number\n  column: number\n}\ninterface RaffleData {\n  people: Person[]\n  groups: Groups\n}\n\nexport interface Person {\n  name: string\n  group: string\n  adjHasSameGroup?: boolean\n}\n\nexport interface Groups {\n  [index: string]: string\n}\n\nconst Arrangement = () => {\n  const [row, setRow] = useState('')\n  const [column, setColumn] = useState('')\n  const [bannedSeatIdx, setBannedSeatIdx] = useState<Number[]>([])\n  const [started, setStarted] = useState(false)\n\n  const people = useRef<Person[]>([])\n  const groups = useRef<Groups>({})\n  const setting = useRef<ArrangementData>({ row: 0, column: 0 })\n\n  const intervalId = useRef<number>()\n\n  useEffect(() => {\n    const arrangementData: ArrangementData = JSON.parse(\n      localStorage.getItem('arrangementData')!\n    )\n    const raffleData: RaffleData = JSON.parse(\n      localStorage.getItem('raffleData')!\n    )\n\n    if (arrangementData) {\n      const { row, column } = arrangementData\n\n      setting.current = { row, column }\n\n      if (raffleData) {\n        const { people: fetchedPeople, groups: fetchedGroups } = raffleData\n\n        people.current = fetchedPeople\n        groups.current = fetchedGroups\n      }\n\n      setRow(row + '')\n      setColumn(column + '')\n    }\n  }, [])\n\n  useEffect(() => {\n    hideSeatItems()\n  }, [row, column, bannedSeatIdx])\n\n  const hideSeatItems = () => {\n    const $seatArea = $('.seat__area')\n    const seatAreaWidth = $seatArea.width() || 0\n    const seatAreaHeight = $seatArea.height() || 0\n\n    const seatItems =\n      document.querySelectorAll<HTMLButtonElement>('.seat__item')\n    seatItems.forEach((seat) => {\n      seat.dataset.left = String(seat.offsetLeft)\n      seat.dataset.top = String(seat.offsetTop)\n\n      $('.seat__person', seat)\n        .animate({\n          left: `${seatAreaWidth / 2 - seatWidth / 2}px`,\n          top: `${seatAreaHeight / 2 - seatHeight / 2}px`,\n        })\n        .hide()\n    })\n  }\n\n  const handleInputChange = useCallback((e: ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target\n    const setFunctions: {\n      [index: string]: React.Dispatch<React.SetStateAction<string>>\n    } = { row: setRow, column: setColumn }\n\n    let onlyNumber = Number(value.replace(/[^0-9]/g, ''))\n    onlyNumber = onlyNumber > 100 ? 100 : onlyNumber\n    setFunctions[name](String(onlyNumber))\n\n    setting.current[name as keyof ArrangementData] = onlyNumber\n    localStorage.setItem('arrangementData', JSON.stringify(setting.current))\n    setBannedSeatIdx([])\n  }, [])\n\n  const handleSeatClick = useCallback(\n    (e: SyntheticEvent<HTMLButtonElement>) => {\n      const idx = Number(e.currentTarget.dataset.idx)\n\n      if (bannedSeatIdx.indexOf(idx) === -1) {\n        setBannedSeatIdx([...bannedSeatIdx, idx])\n      } else {\n        setBannedSeatIdx(bannedSeatIdx.filter((x) => x !== idx))\n      }\n    },\n    [bannedSeatIdx]\n  )\n\n  const handleStartButtonClick = useCallback(\n    (e: SyntheticEvent<HTMLButtonElement>) => {\n      setStarted(true)\n\n      hideSeatItems()\n\n      const personElements = Array.from(\n        document.querySelectorAll<HTMLDivElement>('.seat__person')\n      )\n\n      const completeList: HTMLDivElement[] = []\n\n      let zIndex = 100\n      const animation = () => {\n        const raffledIdx = Math.trunc(Math.random() * personElements.length)\n\n        const $personElement = $(personElements[raffledIdx])\n        const left = $personElement.parent().data('left')\n        const top = $personElement.parent().data('top')\n\n        $personElement\n          .css({ zIndex: ++zIndex })\n          .show(1000)\n          .animate({ left: left + 1 }, Math.random() * 700 + 300)\n          .animate({ top: top + 1 }, Math.random() * 700 + 300)\n\n        completeList.push(personElements.splice(raffledIdx, 1)[0])\n      }\n\n      animation()\n      const startAnimation = () => {\n        intervalId.current = window.setInterval(() => {\n          animation()\n\n          if (personElements.length === 0) {\n            window.clearInterval(intervalId.current)\n            setStarted(false)\n          }\n        }, 3000)\n      }\n      startAnimation()\n    },\n    []\n  )\n\n  const shuffledPeople = useMemo(() => {\n    if (people) {\n      return getShuffledPeople(Number(row), Number(column), people.current)\n    }\n  }, [row, column, bannedSeatIdx])\n  let peopleIdx = 0\n\n  return (\n    <StyledSection>\n      <h1>자리 추첨기</h1>\n      <form style={{ marginBottom: 15 }}>\n        <span style={{ marginRight: 15 }}>\n          <StyledInput\n            type=\"text\"\n            id=\"row\"\n            name=\"row\"\n            value={row}\n            onChange={handleInputChange}\n          />\n          <label htmlFor=\"row\">행</label>\n        </span>\n        <span>\n          <StyledInput\n            type=\"text\"\n            id=\"column\"\n            name=\"column\"\n            value={column}\n            onChange={handleInputChange}\n          />\n          <label htmlFor=\"column\">열</label>\n        </span>\n        <StyledButton\n          type=\"button\"\n          onClick={handleStartButtonClick}\n          disabled={started}\n        >\n          Start!\n        </StyledButton>\n      </form>\n      <SeatArea className=\"seat__area\">\n        {Array.from(Array(Number(row)).keys()).map((eachRow, i) => (\n          <div key={`row-${i}`}>\n            {Array.from(Array(Number(column)).keys()).map((eachColumn, j) => {\n              const idx = i * Number(column) + j\n              return (\n                <Seat\n                  key={`column-${idx}`}\n                  type=\"button\"\n                  data-idx={idx}\n                  data-testid={`seat-${idx}`}\n                  onClick={handleSeatClick}\n                  className={classnames(\n                    'seat__item',\n                    bannedSeatIdx.indexOf(idx) !== -1 ? 'banned' : false\n                  )}\n                  disabled={started}\n                >\n                  {shuffledPeople &&\n                    peopleIdx < shuffledPeople.length &&\n                    bannedSeatIdx.indexOf(idx) === -1 && (\n                      <PersonEl className=\"seat__person\">\n                        <span className=\"name\">\n                          {shuffledPeople[peopleIdx]?.name}\n                        </span>\n                        <span className=\"group\">\n                          {groups.current[shuffledPeople[peopleIdx++]?.group]}\n                        </span>\n                      </PersonEl>\n                    )}\n                </Seat>\n              )\n            })}\n          </div>\n        ))}\n      </SeatArea>\n    </StyledSection>\n  )\n}\n\nconst seatWidth = 180\nconst seatHeight = 80\n\nconst StyledSection = styled.section`\n  text-align: center;\n`\n\nconst SeatArea = styled.div`\n  position: relative;\n  display: inline-block;\n`\n\nconst Seat = styled.button`\n  box-sizing: border-box;\n  width: ${seatWidth}px;\n  height: ${seatHeight}px;\n  margin: 10px;\n  padding: 0;\n  border: 1px solid #000;\n  border-radius: 10px;\n  vertical-align: top;\n  background: #fff;\n  cursor: pointer;\n  transition: all 0.3s;\n\n  &:hover {\n    background: #dadada;\n  }\n\n  &.banned {\n    background: #c32148;\n\n    &:hover {\n      background: #a51d3c;\n    }\n  }\n\n  &:disabled {\n    color: #000;\n  }\n`\n\nconst PersonEl = styled.div`\n  position: absolute;\n  /* left: 50%; */\n  /* top: 50%; */\n  /* opacity: 0; */\n  box-sizing: border-box;\n  display: block;\n  width: ${seatWidth}px;\n  height: ${seatHeight}px;\n  border: 1px solid #000;\n  margin-left: -1px;\n  margin-top: -1px;\n  border-radius: 10px;\n  background: #f8f6cc;\n\n  .name {\n    display: block;\n    font-weight: 700;\n    font-size: 22px;\n    margin-top: 15px;\n    margin-bottom: 5px;\n  }\n`\n\nconst StyledInput = styled.input`\n  box-sizing: border-box;\n  width: 50px;\n  height: 30px;\n  text-align: right;\n  margin-right: 15px;\n  padding-right: 15px;\n  font-size: 16px;\n`\n\nconst StyledButton = styled.button`\n  box-sizing: border-box;\n  width: 65px;\n  height: 30px;\n  font-size: 16px;\n  margin-left: 25px;\n`\n\nexport default Arrangement\n","import { Person } from '../Components/Arrangement'\n\nexport default function getShuffledPeople(\n  row: number,\n  col: number,\n  people: Person[]\n) {\n  const copiedPeople = [...people]\n  const shuffledPeople: Person[] = []\n\n  const checkLeftPersonSameGroup = (currentIdx: number, person: Person) => {\n    if (currentIdx === 0) {\n      return false\n    } else {\n      return person.group === shuffledPeople[currentIdx - 1].group\n    }\n  }\n\n  // 자리 섞기\n  while (copiedPeople.length !== 0) {\n    const raffledIdx = Math.trunc(Math.random() * copiedPeople.length)\n\n    if (\n      checkLeftPersonSameGroup(\n        shuffledPeople.length,\n        copiedPeople[raffledIdx]\n      ) === false\n    ) {\n      const personToMove = copiedPeople.splice(raffledIdx, 1)[0]\n      personToMove.adjHasSameGroup = false\n      shuffledPeople.push(personToMove)\n    } else {\n      let notFoundDifferentGroup = true\n      for (let i = 0; i < 500; i++) {\n        const reRaffledIdx = Math.trunc(Math.random() * copiedPeople.length)\n        if (\n          checkLeftPersonSameGroup(\n            shuffledPeople.length,\n            copiedPeople[reRaffledIdx]\n          ) === false\n        ) {\n          const personToMove = copiedPeople.splice(reRaffledIdx, 1)[0]\n          personToMove.adjHasSameGroup = false\n          shuffledPeople.push(personToMove)\n          notFoundDifferentGroup = false\n          break\n        }\n      }\n\n      if (notFoundDifferentGroup) {\n        const personToMove = copiedPeople.splice(raffledIdx, 1)[0]\n        personToMove.adjHasSameGroup = true\n        shuffledPeople[shuffledPeople.length - 1].adjHasSameGroup = true\n        shuffledPeople.push(personToMove)\n      }\n    }\n  }\n\n  return shuffledPeople\n}\n","import React, { useCallback, useEffect, useState } from 'react'\n\nexport interface RaffleData {\n  name: string\n  label: string\n}\n\nconst defaultData = {\n  groups: {\n    a: '그룹1',\n    b: '그룹2',\n  },\n  people: [\n    {\n      name: '사람1',\n      group: 'a',\n    },\n    {\n      name: '사람2',\n      group: 'b',\n    },\n  ],\n}\n\nconst DataSetting = () => {\n  const [value, setValue] = useState('')\n\n  const handleSubmit = useCallback((e) => {\n    e.preventDefault()\n\n    const inputElements = e.target.elements\n    const data = inputElements.data\n\n    localStorage.setItem('raffleData', data.value)\n  }, [])\n\n  const handleChange = useCallback((e) => {\n    const value = e.currentTarget.value\n    setValue(value)\n  }, [])\n\n  useEffect(() => {\n    let data = localStorage.getItem('raffleData')\n    if (data) {\n      data = data.trim()\n      console.log(data.length)\n      if (data.length === 0) {\n        setValue(JSON.stringify(defaultData, null, 2))\n      } else {\n        setValue(JSON.stringify(JSON.parse(data), null, 2))\n      }\n    } else {\n      setValue(JSON.stringify(defaultData, null, 2))\n    }\n  }, [])\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} style={{ textAlign: 'center' }}>\n        <textarea\n          data-testid=\"input\"\n          name=\"data\"\n          onChange={handleChange}\n          rows={50}\n          cols={100}\n          style={{ marginTop: '50px', marginBottom: '20px' }}\n          value={value}\n        ></textarea>\n        <button\n          type=\"submit\"\n          style={{\n            display: 'block',\n            width: '100px',\n            height: '30px',\n            margin: '0 auto',\n            fontSize: '16px',\n          }}\n        >\n          저장\n        </button>\n      </form>\n    </>\n  )\n}\n\nexport default DataSetting\n","import React from 'react'\nimport { Helmet } from 'react-helmet'\nimport { useLocation } from 'react-router'\nimport { Link } from 'react-router-dom'\n\ninterface Props {\n  title: string\n  children?: React.ReactNode\n}\n\nexport const Layout = ({ title, children }: Props) => {\n  const location = useLocation()\n\n  return (\n    <>\n      <Helmet>\n        <title>{title}</title>\n      </Helmet>\n      <header\n        style={{\n          textAlign: 'right',\n          padding: '20px',\n          fontSize: '24px',\n          fontWeight: 700,\n        }}\n      >\n        {location.pathname !== '/' && (\n          <Link to=\"/\" style={{ textDecoration: 'none', color: '#000' }}>\n            메인으로\n          </Link>\n        )}\n      </header>\n\n      <main>{children}</main>\n\n      <footer\n        style={{\n          position: 'fixed',\n          bottom: '0',\n          left: '50%',\n          transform: 'translateX(-50%)',\n          padding: '10px 0',\n          color: '#333',\n        }}\n      >\n        Made By 코나아이 공채 12기 임은섭.{' '}\n        <a\n          href=\"https://github.com/LimEunSeop/raffle\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Click here\n        </a>{' '}\n        to go to Github Repository\n      </footer>\n    </>\n  )\n}\n","import React from 'react'\nimport './App.css'\n\nimport { Routes, Route, HashRouter } from 'react-router-dom'\nimport Main from './Components/Main'\nimport Arrangement from './Components/Arrangement'\n// import Draw from './Components/Draw'\nimport DataSetting from './Components/DataSetting'\nimport { Layout } from './Components/Layout'\n\nexport const menus = [\n  { label: '자리 바꾸기', path: '/arrangement', element: <Arrangement /> },\n  // { label: '조 추첨', path: '/draw', element: <Draw /> },\n  { label: '데이터 세팅', path: '/data', element: <DataSetting /> },\n]\n\nconst programName = '추첨 프로그램'\n\nfunction App() {\n  return (\n    <HashRouter>\n      <Routes>\n        <Route\n          path=\"/\"\n          element={\n            <Layout title={programName}>\n              <Main />\n            </Layout>\n          }\n        />\n        {menus.map((menu) => (\n          <Route\n            path={menu.path}\n            element={React.createElement(\n              Layout,\n              { title: `${programName} - ${menu.label}` },\n              menu.element\n            )}\n            key={menu.label}\n          />\n        ))}\n      </Routes>\n    </HashRouter>\n  )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}